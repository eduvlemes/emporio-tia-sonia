{"version":3,"sources":["webpack:///./template/js/custom-js/js/ShippingLine.js","webpack:///./template/js/custom-js/js/ShippingLine.js?6d88","webpack:///./node_modules/@ecomplus/widget-product/src/index.js"],"names":["name","props","shippingLine","type","Object","required","computed","deadlineStr","shipping","this","isWorkingDays","posting_deadline","working_days","delivery_time","days","i18n","i19upTo","i19days","freightValueStr","freight","total_price","price","formatMoney","i19freeShipping","options","elId","$productBlock","document","getElementById","$dock","isSSR","Boolean","storefront","window","getScopedSlots","body","context","vueOptions","render","h","TheProduct","attrs","id","product","available","checkInStock","buyText","scopedSlots","assign","buy","domProps","innerHTML","undefined","removeSpinner","$loading","remove","dataset","toRender","mounted","on","Vue","$mount"],"mappings":";uHAYe,GACbA,KAAM,eAENC,MAAO,CACLC,aAAc,CACZC,KAAMC,OACNC,UAAU,IAIdC,SAAU,CACRC,cACE,MAAMC,EAAWC,KAAKP,aAChBQ,EAAiBF,EAASG,kBAAoBH,EAASG,iBAAiBC,cAC3EJ,EAASK,eAAiBL,EAASK,cAAcD,aACpD,IAAIE,EAAON,EAASG,iBAAmBH,EAASG,iBAAiBG,KAAO,EAIxE,OAHIN,EAASK,gBACXC,GAAQN,EAASK,cAAcC,MAEjC,UAAUC,YAAKC,MAAf,YAA2BF,EAA3B,YAAmCC,YAAKL,EAAgB,eAAiBO,OAG3EC,kBACE,MAAMC,EAAmD,iBAAlCV,KAAKP,aAAakB,YACrCX,KAAKP,aAAakB,YAClBX,KAAKP,aAAamB,MACtB,OAAIF,EACKG,YAAYH,GAEZJ,YAAKQ,SCzCsH,O,iCCA1I,6CAUe,WAACC,EAAU,GAAIC,EAAO,aACnC,MAAMC,EAAgBC,SAASC,eAAeH,GAC9C,GAAIC,EAAe,CACjB,MAAMG,EAAQF,SAASC,eAAT,UAA2BH,EAA3B,UACRK,EAAQC,QAAQF,IAChB,WAAEG,GAAeC,OACvB,IAAIC,EAAgBC,EAChBH,IACFE,EAAiBF,EAAWE,eAC5BC,EAAOH,EAAWI,SAAWJ,EAAWI,QAAQD,MAGlD,MAAME,EAAa,CACjBC,OAAQC,GAAKA,EAAEC,IAAY,CACzBC,MAAO,CACLC,GAAIb,EAAQ,KAAOJ,GAErBxB,MAAO,IACFuB,EAAQvB,MACX0C,QAASb,GAASK,GAAQA,EAAKS,WAAaC,YAAaV,GAAQA,EAAO,KACxEW,QAAStB,EAAQsB,QACjBhB,SAGFiB,YAAa3C,OAAO4C,OAClB,CACEC,IAAMzB,EAAQyB,IAEV,WACA,OAAOV,EAAE,OAAQ,CACfW,SAAU,CACRC,UAAW3B,EAAQyB,aAJvBG,GASoB,mBAAnBlB,EACHA,EAAeR,EAAea,GAAIV,GAClC,OAKJwB,EAAgB,KACpB,MAAMC,EAAW3B,SAASC,eAAe,mBACrC0B,GACFA,EAASC,gBAEJ7B,EAAc8B,QAAQC,UAE3B3B,EACFO,EAAWqB,QAAUL,EAErBhB,EAAWC,OAAOqB,GAAK,CACrB,iBAAkBN,GAItB,IAAIO,IAAIvB,GAAYwB,OAAOhC,GAASH","file":"chunk.ca4f8ecddedb39d82bf3.js","sourcesContent":["import {\n  i19days,\n  i19freeShipping,\n  i19upTo,\n  i19workingDays\n} from '@ecomplus/i18n'\n\nimport {\n  i18n,\n  formatMoney\n} from '@ecomplus/utils'\n\nexport default {\n  name: 'ShippingLine',\n\n  props: {\n    shippingLine: {\n      type: Object,\n      required: true\n    }\n  },\n\n  computed: {\n    deadlineStr () {\n      const shipping = this.shippingLine\n      const isWorkingDays = (shipping.posting_deadline && shipping.posting_deadline.working_days) ||\n        (shipping.delivery_time && shipping.delivery_time.working_days)\n      let days = shipping.posting_deadline ? shipping.posting_deadline.days : 0\n      if (shipping.delivery_time) {\n        days += shipping.delivery_time.days\n      }\n      return `${i18n(i19upTo)} ${days} ${i18n(isWorkingDays ? 'Dia(s) Ãºteis' : i19days)}`\n    },\n\n    freightValueStr () {\n      const freight = typeof this.shippingLine.total_price === 'number'\n        ? this.shippingLine.total_price\n        : this.shippingLine.price\n      if (freight) {\n        return formatMoney(freight)\n      } else {\n        return i18n(i19freeShipping)\n      }\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--1!./ShippingLine.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--1!./ShippingLine.js?vue&type=script&lang=js&\"","/*!\n * @ecomplus/widget-product\n * (c) E-Com Club <ti@e-com.club>\n * Released under the MIT License.\n */\n\nimport Vue from 'vue'\nimport { inStock as checkInStock } from '@ecomplus/utils'\nimport TheProduct from '#components/TheProduct.vue'\n\nexport default (options = {}, elId = 'product') => {\n  const $productBlock = document.getElementById(elId)\n  if ($productBlock) {\n    const $dock = document.getElementById(`${elId}-dock`)\n    const isSSR = Boolean($dock)\n    const { storefront } = window\n    let getScopedSlots, body\n    if (storefront) {\n      getScopedSlots = storefront.getScopedSlots\n      body = storefront.context && storefront.context.body\n    }\n\n    const vueOptions = {\n      render: h => h(TheProduct, {\n        attrs: {\n          id: $dock ? null : elId\n        },\n        props: {\n          ...options.props,\n          product: isSSR && body && body.available && checkInStock(body) ? body : null,\n          buyText: options.buyText,\n          isSSR\n        },\n\n        scopedSlots: Object.assign(\n          {\n            buy: !options.buy\n              ? undefined\n              : function () {\n                return h('span', {\n                  domProps: {\n                    innerHTML: options.buy\n                  }\n                })\n              }\n          },\n          typeof getScopedSlots === 'function'\n            ? getScopedSlots($productBlock, h, !$dock)\n            : {}\n        )\n      })\n    }\n\n    const removeSpinner = () => {\n      const $loading = document.getElementById('product-loading')\n      if ($loading) {\n        $loading.remove()\n      }\n      delete $productBlock.dataset.toRender\n    }\n    if (isSSR) {\n      vueOptions.mounted = removeSpinner\n    } else {\n      vueOptions.render.on = {\n        'update:product': removeSpinner\n      }\n    }\n\n    new Vue(vueOptions).$mount($dock || $productBlock)\n  }\n}\n"],"sourceRoot":""}